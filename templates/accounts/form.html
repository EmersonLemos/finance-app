{% extends "base.html" %}

{% block title %}
    {% if account %}Editar Conta{% else %}Nova Conta{% endif %}
{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="h4 mb-0">
        {% if account %}
            <i class="fa-solid fa-pen-to-square me-1"></i> Editar Conta
        {% else %}
            <i class="fa-solid fa-plus me-1"></i> Nova Conta
        {% endif %}
    </h2>

    <a href="{{ url_for('accounts.list_accounts') }}" class="btn btn-secondary btn-sm">
        <i class="fa-solid fa-arrow-left-long me-1"></i> Voltar
    </a>
</div>

<div class="card shadow-sm">
    <div class="card-body">

        {% if error %}
            <div class="alert alert-danger py-2">
                {{ error }}
            </div>
        {% endif %}

        <form method="post" class="row g-3">

            <!-- Nome -->
            <div class="col-md-6">
                <label class="form-label">Nome da conta</label>
                <input type="text" name="name" class="form-control"
                       value="{{ account.name if account else '' }}" required>
            </div>

            <!-- Tipo -->
            <div class="col-md-6">
                <label class="form-label">Tipo</label>
                <select name="type" class="form-select" required>
                    <option value="">Selecione...</option>

                    <option value="carteira"
                        {% if account and account.type=='carteira' %}selected{% endif %}>
                        Carteira
                    </option>

                    <option value="banco"
                        {% if account and account.type=='banco' %}selected{% endif %}>
                        Banco
                    </option>

                    <option value="cartao"
                        {% if account and account.type=='cartao' %}selected{% endif %}>
                        Cartão de crédito
                    </option>

                    <option value="reserva"
                        {% if account and account.type=='reserva' %}selected{% endif %}>
                        Reserva financeira
                    </option>
                </select>
            </div>

            <!-- Botões -->
            <div class="col-12 d-flex gap-2 mt-3">
                <button type="submit" class="btn btn-primary">
                    {% if account %}Salvar alterações{% else %}Cadastrar{% endif %}
                </button>

                <a href="{{ url_for('accounts.list_accounts') }}" class="btn btn-outline-secondary">
                    Cancelar
                </a>
            </div>

        </form>

    </div>
</div>

{% endblock %}
